# 쓰로틀링

> 쓰로틀링은 시스템 또는 애플리케이션에서 과도한 요청이나 이벤트 발생을 일정 간격으로 제어하여  
> 성능 저하와 과부하를 방지하는 기법입니다.  
> 안드로이드 개발에서도 UI 이벤트, 서버 API 요청 등 다양한 상황에서 필수적으로 활용됩니다.  

---

## 1. 쓰로틀링이란?

쓰로틀링은 **일정 시간 간격 내에 발생하는 이벤트를 제한하여 처리하는 기법**입니다. 주로 다음과 같은 경우에 사용됩니다.

* 서버에 과도한 API 요청이 들어올 때
* 사용자가 버튼을 빠르게 연속으로 클릭할 때
* 스크롤, 터치 등의 이벤트가 너무 자주 발생할 때

이와 같은 상황에서 쓰로틀링을 사용하면 **자원의 낭비를 줄이고, 시스템의 안정성을 높일 수 있습니다.**

---

## 2. Throttling의 동작 원리

> 일정 시간 간격 내에서는 단 한 번만 동작하도록 막는 방식

```kotlin
private var lastClickTime = 0L
private val throttleDelay = 500L // 밀리초 단위

button.setOnClickListener {
    val currentTime = System.currentTimeMillis()
    if (currentTime - lastClickTime > throttleDelay) {
        lastClickTime = currentTime
        // 실제 클릭 이벤트 처리
    }
}
```

* `lastClickTime`을 기준으로 `throttleDelay` 시간 동안 추가 클릭을 무시합니다.
* 일반적으로 버튼 중복 클릭 방지에 많이 사용됩니다.

---

## 3. 쓰로틀링과 디바운싱의 차이

| 구분    | 쓰로틀링                      | Debouncing (디바운싱)              |
| ----- | ------------------------- | ------------------------------ |
| 정의    | 일정 시간마다 이벤트를 **최대 1번** 실행 | 이벤트가 끝난 후 일정 시간 동안 **대기 후 실행** |
| 사용 예시 | 버튼 중복 클릭 방지, API 호출 제한    | 검색창 자동완성, 실시간 입력값 처리           |
| 특징    | 일정 주기로 계속 호출됨             | 이벤트 발생이 멈추면 마지막에 1회 실행         |

---

## 4. 안드로이드에서의 활용 예시

### 4-1. 클릭 이벤트 제어

* 버튼 중복 클릭 방지에 유용
* Jetpack Compose에서도 `LaunchedEffect`나 `rememberUpdatedState`와 조합하여 구현 가능

### 4-2. API 호출 제한

* 서버와의 네트워크 통신 시 요청 빈도 제어
* Retrofit, OkHttp 사용 시 interceptor에서 제어 가능
  
---
